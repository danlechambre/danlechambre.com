---
import MdStylesWrapper from "src/components/MdStylesWrapper.astro";
import { Content as WelcomeContent } from "../../content/welcome.md";

import RootLayout from "@layouts/RootLayout.astro";
import HomeLayout from "@layouts/HomeLayout.astro";
import { getCollection } from "astro:content";

const articles = await getCollection("articles");

const tags = Array.from(new Set(articles.flatMap((a) => a.data.tags)));
---

<RootLayout>
  <HomeLayout>
    <section>
      <header class="sr-only">
        <h1>Dan Le Chambre</h1>
        <p>Crafting Delightful Digital Experiences</p>
      </header>
      <MdStylesWrapper>
        <WelcomeContent />
      </MdStylesWrapper>
    </section>
    <!-- Should be an aside really... -->
    <section>
      <h2>Tags</h2>
      {
        tags.map((t) => (
          <a class="tag" href={`/${t}`}>
            {t}
          </a>
        ))
      }
    </section>
  </HomeLayout>
</RootLayout>

<style>
  .tag {
    display: inline-block;
    background-color: yellow;
    margin-inline: 6px;
    padding-inline: 6px;
    margin-block-end: 12px;
  }
</style>
