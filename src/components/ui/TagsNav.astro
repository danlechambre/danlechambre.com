---
import { getCollection } from "astro:content";

const articles = await getCollection("articles");
const tags = Array.from(new Set(articles.flatMap((a) => a.data.tags)));
---

<nav class="nav-wrapper">
  <h2 class="nav-header font-mono-slab">Tags</h2>
  <div class="nav-links">
    {
      tags.map((t) => (
        <a class="nav-link" href={`/${t}`}>
          {t}
        </a>
      ))
    }
  </div>
</nav>

<style>
  .nav-wrapper > * {
    margin: 0;
  }

  .nav-wrapper {
    padding: 0.25rem 1rem;
  }

  .nav-header {
    display: inline-block;
    font-size: 1rem;
    padding: 0 0.25rem;
    line-height: 1.25rem;
  }

  .nav-header::before {
    content: "#";
    margin-right: 0.25rem;
  }

  .nav-links {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .nav-link {
    text-decoration: underline;
    text-underline-offset: 0.15rem;
    text-decoration-skip-ink: auto;
    text-decoration-color: gold;
    display: block;
  }
</style>
